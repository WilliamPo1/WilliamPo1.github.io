cses <- import("data/cses_imd.dta")
macro <- import("data/macro_bis.dta")
lis <- import("data/lis_bis.dta")
library(tidyverse)
library(rio)
cses <- import("data/cses_imd.dta")
macro <- import("data/macro_bis.dta")
lis <- import("data/lis_bis.dta")
rile <- import("data/RILE Right ter.dta")
frag <- import("data/PS Frag PSRM.dta")
names(cses)
names(macro)
table(macro$polity)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM)) |>
rename(polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
left_join(macro, by = c("polity","year")) |>
rename(rile_left=rile) |>
mutate(polity=ifelse(polity=="Unites Kingdom","Great Britain",polity))
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM)) |>
rename(polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM)) |>
rename(polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
left_join(macro, by = c("polity","year")) |>
rename(rile_left=rile) |>
mutate(polity=ifelse(polity=="Unites Kingdom","Great Britain",polity))
class(cses$IMD1008_YEAR)
table(cses$IMD1008_YEAR)
table(macro$year)
View(macro)
table(cses$IMD1008_YEAR,cses$IMD1006_NAM)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM)) |>
rename(polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
left_join(macro, by = c("polity","year")) |>
rename(rile_left=rile) |>
mutate(polity=ifelse(polity=="Unites Kingdom","Great Britain",polity))
View(dat)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM)) |>
rename(polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
left_join(macro, by = c("polity","year"),relationship = "many-to-many") |>
rename(rile_left=rile) |>
mutate(polity=ifelse(polity=="Unites Kingdom","Great Britain",polity))
View(rile)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
left_join(macro, by = c("polity","year"), relationship = "many-to-many") |>
rename(rile_left=rile) |>
mutate(polity=ifelse(polity=="Unites Kingdom","Great Britain",polity)) |>
left_join(lis, by = c("polity","year"), relationship = "many-to-many") |>
mutate(election=IMD1008_YEAR,
country_code=country) |>
arrange(counrty_code,election) |>
left_join(rile, by = c("country_code","election"), relationship = "many-to-many") |>
mutate(country_name=polity) |>
arrange(country_name,year) |>
left_join(frag, by = c("country_name", "year"), relationship = "many-to-many")
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
left_join(macro, by = c("polity","year"), relationship = "many-to-many") |>
rename(rile_left=rile) |>
mutate(polity=ifelse(polity=="Unites Kingdom","Great Britain",polity)) |>
left_join(lis, by = c("polity","year"), relationship = "many-to-many") |>
mutate(election=IMD1008_YEAR,
country_code=country) |>
arrange(country_code,election) |>
left_join(rile, by = c("country_code","election"), relationship = "many-to-many") |>
mutate(country_name=polity) |>
arrange(country_name,year) |>
left_join(frag, by = c("country_name", "year"), relationship = "many-to-many")
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
left_join(macro, by = c("polity","year"), relationship = "many-to-many") |>
rename(rile_left=rile) |>
mutate(polity=ifelse(polity=="Unites Kingdom","Great Britain",polity)) |>
left_join(lis, by = c("polity","year"), relationship = "many-to-many") |>
mutate(election=IMD1008_YEAR,
country_code=country) |>
arrange(country_code,election) |>
left_join(rile, by = c("country_code","election"), relationship = "many-to-many") |>
mutate(country_name=polity) |>
arrange(country_name,year) |>
left_join(frag, by = c("country_name", "year"), relationship = "many-to-many")
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
left_join(macro, by = c("polity","year"), relationship = "many-to-many")
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
full_join(macro, by = c("polity","year"))
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
inner_join(macro, by = c("polity","year"))
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
group_by(polity,year) |>
inner_join(macro, by = c("polity","year"))
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
inner_join(macro, by = c("polity","year"))
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
left_join(macro, by = c("polity","year"))
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
inner_join(macro, by = c("polity","year")) |>
rename(rile_left=rile) |>
mutate(polity=ifelse(polity=="Unites Kingdom","Great Britain",polity)) |>
left_join(lis, by = c("polity","year"), relationship = "many-to-many") |>
mutate(election=IMD1008_YEAR,
country_code=country) |>
arrange(country_code,election) |>
left_join(rile, by = c("country_code","election"), relationship = "many-to-many") |>
mutate(country_name=polity) |>
arrange(country_name,year) |>
left_join(frag, by = c("country_name", "year"), relationship = "many-to-many")
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
inner_join(macro, by = c("polity","year"))
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
full_join(macro, by = c("polity","year"), relationship = "many-to-many")
View(macro)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
inner_join(macro, by = c("polity","year"), relationship = "many-to-many") |>
rename(rile_left=rile) |>
mutate(polity=ifelse(polity=="Unites Kingdom","Great Britain",polity)) |>
inner_join(lis, by = c("polity","year"), relationship = "many-to-many") |>
mutate(election=IMD1008_YEAR,
country_code=country) |>
arrange(country_code,election) |>
inner_join(rile, by = c("country_code","election"), relationship = "many-to-many") |>
mutate(country_name=polity) |>
arrange(country_name,year) |>
inner_join(frag, by = c("country_name", "year"), relationship = "many-to-many")
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
left_join(macro, by = c("polity","year"), relationship = "many-to-many") |>
rename(rile_left=rile) |>
mutate(polity=ifelse(polity=="Unites Kingdom","Great Britain",polity)) |>
left_join(lis, by = c("polity","year"), relationship = "many-to-many") |>
mutate(election=IMD1008_YEAR,
country_code=country) |>
arrange(country_code,election) |>
left_join(rile, by = c("country_code","election"), relationship = "many-to-many") |>
mutate(country_name=polity) |>
arrange(country_name,year) |>
left_join(frag, by = c("country_name", "year"), relationship = "many-to-many")
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
right_join(macro, by = c("polity","year"), relationship = "many-to-many") |>
rename(rile_left=rile) |>
mutate(polity=ifelse(polity=="Unites Kingdom","Great Britain",polity)) |>
right_join(lis, by = c("polity","year"), relationship = "many-to-many") |>
mutate(election=IMD1008_YEAR,
country_code=country) |>
arrange(country_code,election) |>
right_join(rile, by = c("country_code","election"), relationship = "many-to-many") |>
mutate(country_name=polity) |>
arrange(country_name,year) |>
right_join(frag, by = c("country_name", "year"), relationship = "many-to-many")
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year)
table(dat$polity)
table(macro$polity)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
left_join(macro, by = c("polity","year"), relationship = "many-to-many")
table(macro$polity)
table(dat$polity)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
full_join(macro, by = c("polity","year"), relationship = "many-to-many")
table(dat$polity)
View(macro)
lol <- macro |> mutate(test=paste0(polity,year))
View(lol)
table(lol$test)
View(cses)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
full_join(macro, by = c("polity","year"), relationship = "many-to-many")
table(dat$polity)
lol <- dat |> filter(polity=="Greece")
View(lol)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year)
lol <- dat |> filter(polity=="Greece")
table(lol$year)
9+9+8
3059+1029+1008
test <- macro |> mutate(test=paste0(polity,year)) |> distinct(test)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
full_join(test, by = c("polity","year"), relationship = "many-to-many")
View(test)
test <- macro |> mutate(test=paste0(polity,year)) |> distinct(test,.keep_all = T)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
full_join(test, by = c("polity","year"), relationship = "many-to-many")
table(dat$polity)
View(macro)
dat <- cses |>
filter(IMD1006_NAM %in% c("Australia","Austria","Belgium","Canada","Denmark","Finland","France","Germany","Great Britain","Greece","Iceland","Ireland","Italy","Japan","Netherlands","New Zealand","Norway","Spain","Portugal","Sweden","Switzerland","United States of America")) |>
mutate(IMD1006_NAM = case_when(IMD1006_NAM=="United States of America" ~ "USA",
IMD1006_NAM=="Great Britain" ~ "United Kingdom",
TRUE ~ IMD1006_NAM),
polity=IMD1006_NAM,
year=IMD1008_YEAR) |>
arrange(polity,year) |>
full_join(test, by = c("polity","year"), relationship = "many-to-many") |>
rename(rile_left=rile) |>
mutate(polity=ifelse(polity=="Unites Kingdom","Great Britain",polity)) |>
full_join(lis, by = c("polity","year"), relationship = "many-to-many") |>
mutate(election=IMD1008_YEAR,
country_code=country) |>
arrange(country_code,election) |>
full_join(rile, by = c("country_code","election"), relationship = "many-to-many") |>
mutate(country_name=polity) |>
arrange(country_name,year) |>
full_join(frag, by = c("country_name", "year"), relationship = "many-to-many")
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
fig.width=9, fig.height=3.5, fig.retina=3,
out.width = "100%",
cache = FALSE,
echo = FALSE,
message = FALSE,
warning = FALSE,
hiline = TRUE
)
xaringanExtra::use_panelset()
knitr::include_graphics("gifs/giphy.gif")
