---
title: "POLISCI 9590 - Lab1: Data Management and Recoding Variables"
author: "William Poirier"
date: "2024-09-17"
output: 
  html_document:
      toc: true
      toc_float:
        collapsed: true
      theme: journal
---
<style>
.list-group-item.active, .list-group-item.active:hover, .list-group-item.active:focus {
    z-index: 2;
    color: #ffffff;
    background-color: #4F2683;
    border-color: #4F2683;
}

a {
    color: #4F2683;
    text-decoration: none;
}
</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
data(UN, package="carData")
UN <- as_tibble(UN,rownames="country")
```

## 3. Exercises

1. What is the `fertility` rate and `ppgdp` of the 4 country with highest female life expectancy (`lifeExpF`)? Make sure you are using no country where `region` is missing.
```{r}
UN |> 
  drop_na(region) |> 
  arrange(-lifeExpF) |> 
  select(country,fertility,ppgdp) |> 
  slice_head(n=4)
  
```

2. What is the `fertility` rate and `ppgdp` of the 2 most urbanised country (`pctUrban`) for each `region`? Make sure you are using no country where `region` is missing.
```{r}
UN |> 
  drop_na(region) |> 
  group_by(region) |> 
  arrange(-pctUrban) |> 
  select(country,fertility,ppgdp) |> 
  slice_head(n=2)
```

3. Create a variable called `fertility1000`, the result of this operation `fertility*1000-infantMortality`. What is the highest country on `fertility1000` in each region? Make sure to use only countries where both `fertility` and `infantMortality` are known.
```{r}
UN |> 
  drop_na(fertility,infantMortality) |> 
  mutate(fertility1000=fertility*1000-infantMortality) |> 
  group_by(region) |> 
  arrange(-fertility1000) |> 
  slice_head(n=1)
```