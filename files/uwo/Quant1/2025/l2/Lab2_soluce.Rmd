---
title: "POLISCI 9590 - Lab2: ggplot2"
author: "William Poirier"
date: "2024-09-10"
output: 
  html_document:
      toc: true
      toc_float:
        collapsed: true
      theme: journal
---
<style>
.list-group-item.active, .list-group-item.active:hover, .list-group-item.active:focus {
    z-index: 2;
    color: #ffffff;
    background-color: #4F2683;
    border-color: #4F2683;
}

a {
    color: #4F2683;
    text-decoration: none;
}
</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## 1.1 Examples

5. What is the mean and standard deviation of the price of diamonds with a clarity of VVS2 and carat between 2.0 and 2.1?
```{r}
library(tidyverse)

diamonds |>
  filter(clarity == "VVS2" & (carat >= 2.0 | carat <= 2.1)) |>
  summarise(mean = mean(price),
            sd = sd(price))

# OR

mean(diamonds$price[diamonds$clarity == "VVS2" & (diamonds$carat>=2.0 | diamonds$carat <= 2.1)])
sd(diamonds$price[diamonds$clarity == "VVS2" & (diamonds$carat>=2.0 | diamonds$carat <= 2.1)])

```

## 3. Try it yourself

From the `carData::Salaries` data set of 2008-2009 nine-month academic salary for Assistant Professors, Associate Professors and Professors in a college in the U.S., create a graph that presents:

  1. The mean salary per years since PhD with regards to sex per discipline.
  2. Make sure that the axis, facets and legend are properly named. 
  3. Rescale the y axis to have salaries in increments of 25000 and the x axis to have years in increments of 5.
  4. Make sure the legend is on top of the graph.

```{r}
range(carData::Salaries$yrs.since.phd)
range(carData::Salaries$salary)

carData::Salaries |> 
  mutate(discipline=factor(discipline,
                           levels=c("A","B"),
                           labels=c("Theoretical","Applied"))) |> 
  group_by(yrs.since.phd,sex,discipline) |> 
  summarise(meanSal=mean(salary)) |> 
  ggplot(aes(x=yrs.since.phd,y=meanSal,color=sex))+
  geom_line()+
  scale_x_continuous("\nYears since PhD.",breaks=seq(0,56,5))+
  scale_y_continuous("Salaries in USD\n",breaks=seq(0,250000,25000))+
  scale_color_brewer("",palette = "Set1")+
  facet_wrap(~discipline)+
  theme_minimal()+
  theme(legend.position = "top")
```

